<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>ğŸŒ GeleceÄŸi Kur</title>

<style>
body {
  margin: 0;
  background: #111;
  color: #fff;
  font-family: Arial, sans-serif;
}

.container {
  max-width: 760px;
  margin: auto;
  padding: 25px;
  text-align: center;
}

.box {
  background: #1e1e1e;
  padding: 25px;
  border-radius: 15px;
}

button {
  width: 100%;
  padding: 14px;
  margin: 6px 0;
  font-size: 17px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

button:hover { opacity: 0.85; }

.bar-container {
  background: #333;
  height: 18px;
  border-radius: 10px;
  overflow: hidden;
  margin: 15px 0;
}

.bar {
  height: 100%;
  width: 50%;
  background: linear-gradient(to right, #2ecc71, #f1c40f, #e74c3c);
  transition: width 0.4s;
}

.visuals img { margin: 6px; }

.alarm {
  color: #ff4c4c;
  font-size: 20px;
  font-weight: bold;
  animation: blink 1s infinite;
  margin-top: 10px;
}

@keyframes blink {
  0% {opacity: 1;}
  50% {opacity: 0.2;}
  100% {opacity: 1;}
}

.event-panel {
  background: #7a1a1a;
  padding: 18px;
  border-radius: 12px;
  margin-top: 15px;
}

.event-panel button {
  background: #2ecc71;
  font-size: 20px;
}
</style>
</head>

<body>

<div class="container">
<div class="box">

<h1>ğŸŒ GELECEÄÄ° KUR</h1>
<p id="status"></p>

<div class="bar-container">
  <div id="carbonBar" class="bar"></div>
</div>

<h2 id="question"></h2>
<div id="options"></div>
<p id="info"></p>

<div id="alarm" class="alarm"></div>

<div id="eventPanel" class="event-panel" style="display:none;">
  <p id="eventText"></p>
  <p>â³ Kalan sÃ¼re: <span id="timer">2</span> sn</p>
  <button onclick="stopEvent()">ğŸ›‘ MÃ¼dahale Et</button>
</div>

<div class="visuals">
  <img id="worldImg" src="world_mid.png" width="180"><br>
  <img src="cloud.png" width="80">
  <img src="tree.png" width="80">
</div>

</div>
</div>

<script>
let carbon = 50;
let turn = 1;
const maxTurn = 10;

/* ---------- 20 KARAR ---------- */
const allDecisions = [

/* 5 ADET 4 ÅIK */
{q:"ğŸš— UlaÅŸÄ±m tercihin?",o:[
["ğŸš— Araba",10,"YÃ¼ksek karbon."],
["ğŸšŒ OtobÃ¼s",4,"Daha az salÄ±m."],
["ğŸš² Bisiklet",-6,"SÄ±fÄ±r emisyon."],
["ğŸš¶ YÃ¼rÃ¼yÃ¼ÅŸ",-4,"DoÄŸa dostu."]
]},

{q:"âš¡ Enerji kaynaÄŸÄ±?",o:[
["âš¡ KÃ¶mÃ¼r",8,"Kirli enerji."],
["ğŸ”¥ DoÄŸalgaz",4,"Orta seviye."],
["ğŸŒ GÃ¼neÅŸ",-6,"Temiz enerji."],
["ğŸŒ¬ï¸ RÃ¼zgar",-5,"SÃ¼rdÃ¼rÃ¼lebilir."]
]},

{q:"ğŸ½ï¸ Beslenme?",o:[
["ğŸ¥© KÄ±rmÄ±zÄ± et",9,"YÃ¼ksek karbon."],
["ğŸ— Beyaz et",5,"Orta etki."],
["ğŸ¥¦ Vejetaryen",-4,"DÃ¼ÅŸÃ¼k karbon."],
["ğŸŒ± Vegan",-6,"Ã‡ok Ã§evreci."]
]},

{q:"âœˆï¸ Tatil planÄ±?",o:[
["âœˆï¸ UÃ§ak",10,"Ã‡ok yÃ¼ksek salÄ±m."],
["ğŸš— Araba",6,"YÃ¼ksek salÄ±m."],
["ğŸš† Tren",-3,"Daha iyi."],
["ğŸ•ï¸ YakÄ±n tatil",-5,"DÃ¼ÅŸÃ¼k etki."]
]},

{q:"ğŸ  Ev yalÄ±tÄ±mÄ±?",o:[
["âŒ Yok",7,"Enerji kaybÄ±."],
["ğŸ§± KÄ±smi",3,"Biraz tasarruf."],
["ğŸ¡ Tam",-5,"Verimli."],
["ğŸŒ Pasif ev",-7,"Ã‡ok verimli."]
]},

/* 15 ADET 3 ÅIK */
{q:"ğŸ’¡ IÅŸÄ±k kullanÄ±mÄ±?",o:[["ğŸ’¡ AÃ§Ä±k",4,"Ä°sraf."],["ğŸ”Œ KapalÄ±",-3,"Tasarruf."],["ğŸ’¡ LED",-4,"Verimli."]]},
{q:"ğŸš¿ DuÅŸ sÃ¼resi?",o:[["ğŸš¿ Uzun",5,"Enerji harcar."],["â±ï¸ Orta",2,"Kabul edilebilir."],["â±ï¸ KÄ±sa",-4,"Tasarruf."]]},
{q:"ğŸ›’ AlÄ±ÅŸveriÅŸ?",o:[["ğŸ›ï¸ Gereksiz",6,"TÃ¼ketim."],["ğŸ“¦ PlanlÄ±",-2,"Daha iyi."],["â™»ï¸ Az",-4,"Ã‡evreci."]]},
{q:"ğŸš® Ã‡Ã¶p?",o:[["âŒ AyÄ±rmam",5,"AtÄ±k artar."],["â™»ï¸ KÄ±smen",-2,"Bir miktar."],["â™»ï¸ Tam",-4,"Geri dÃ¶nÃ¼ÅŸÃ¼m."]]},
{q:"ğŸ”¥ IsÄ±nma?",o:[["ğŸ”¥ YÃ¼ksek",6,"Fosil yakÄ±t."],["ğŸ”¥ Orta",2,"Normal."],["ğŸ§¥ DÃ¼ÅŸÃ¼k",-4,"Tasarruf."]]},
{q:"ğŸš— AraÃ§ tÃ¼rÃ¼?",o:[["â›½ Benzin",6,"Kirli."],["ğŸ”‹ Hibrit",-2,"Daha iyi."],["ğŸ”Œ Elektrik",-5,"Temiz."]]},
{q:"ğŸ“¦ Kargo?",o:[["ğŸšš HÄ±zlÄ±",4,"SalÄ±m artar."],["ğŸšš Standart",1,"Normal."],["ğŸ“¦ Toplu",-3,"Tasarruf."]]},
{q:"ğŸŒ¾ TarÄ±m?",o:[["ğŸ§ª Kimyasal",6,"Toprak zarar."],["ğŸŒ¾ KontrollÃ¼",2,"Orta."],["ğŸŒ¿ Organik",-4,"SÃ¼rdÃ¼rÃ¼lebilir."]]},
{q:"ğŸŒŠ Deniz?",o:[["ğŸ›¥ï¸ Motor",5,"Kirlilik."],["â›µ Yelken",-2,"Daha iyi."],["ğŸš£ KÃ¼rek",-4,"Temiz."]]},
{q:"ğŸ“± Telefon?",o:[["ğŸ“± SÄ±k deÄŸiÅŸtir",4,"AtÄ±k."],["ğŸ“± Uzun kullan",-3,"Tasarruf."],["â™»ï¸ Ä°kinci el",-4,"Ã‡evreci."]]},
{q:"ğŸ§´ Plastik?",o:[["ğŸ§´ Ã‡ok",5,"AtÄ±k."],["ğŸ§´ Az",1,"Orta."],["ğŸ‘œ Bez",-4,"DoÄŸa dostu."]]},
{q:"ğŸŒ³ Orman?",o:[["ğŸª“ Kes",8,"Karbon artar."],["âš–ï¸ Dengeli",2,"KontrollÃ¼."],["ğŸŒ² Koru",-6,"Ã‡ok iyi."]]},
{q:"ğŸ­ Sanayi?",o:[["ğŸ­ Klasik",6,"Kirli."],["âš™ï¸ Filtreli",1,"Orta."],["ğŸŒ± YeÅŸil",-5,"Temiz."]]},
{q:"ğŸŒ Politika?",o:[["ğŸ’° KÃ¢r",6,"Ã‡evre ihmal."],["âš–ï¸ Dengeli",1,"Orta."],["ğŸŒ SÃ¼rdÃ¼rÃ¼lebilir",-5,"Uzun vadeli."]]},
{q:"ğŸš¶ GÃ¼nlÃ¼k yaÅŸam?",o:[["ğŸš— HÄ±zlÄ±",4,"SalÄ±m."],["ğŸš¶ Dengeli",0,"NÃ¶tr."],["ğŸš² Aktif",-4,"SaÄŸlÄ±klÄ±."]]}
];

const gameDecisions = [...allDecisions].sort(() => Math.random()-0.5).slice(0,10);

/* ---------- Ä°KLÄ°M OLAYI ---------- */
const events = [
  {text:"ğŸŒŠ Sel felaketi baÅŸladÄ±!", effect:8},
  {text:"ğŸ”¥ BÃ¼yÃ¼k orman yangÄ±nÄ±!", effect:10},
  {text:"ğŸ­ Sanayi kazasÄ±!", effect:6}
];

let eventActive=false, countdown, currentEvent;

function updateBar(){
  carbon=Math.max(0,Math.min(100,carbon));
  carbonBar.style.width=carbon+"%";
}

function updateWorldImage(){
  worldImg.src = carbon<40?"world_good.png":carbon<70?"world_mid.png":"world_bad.png";
}

function triggerClimateEvent(){
  if(Math.random()<0.15 && !eventActive){
    eventActive=true;
    currentEvent=events[Math.floor(Math.random()*events.length)];
    alarm.innerText="ğŸš¨ ACÄ°L Ä°KLÄ°M KRÄ°ZÄ°!";
    setTimeout(showEventPanel,1000);
  }
}

function showEventPanel(){
  let t=2;
  eventPanel.style.display="block";
  eventText.innerText=currentEvent.text;
  timer.innerText=t;
  countdown=setInterval(()=>{
    t--;
    timer.innerText=t;
    if(t<=0) failEvent();
  },1000);
}

function stopEvent(){
  clearInterval(countdown);
  if(Math.random()<0.68){
    info.innerText="âœ… MÃ¼dahale baÅŸarÄ±lÄ±!";
  }else{
    carbon+=currentEvent.effect;
    info.innerText="âŒ BaÅŸarÄ±sÄ±z! "+currentEvent.text;
  }
  eventActive=false;
  eventPanel.style.display="none";
  alarm.innerText="";
  updateBar(); updateWorldImage();
}

function failEvent(){
  clearInterval(countdown);
  carbon+=currentEvent.effect;
  eventActive=false;
  eventPanel.style.display="none";
  alarm.innerText="";
  info.innerText="âŒ MÃ¼dahale edilemedi! "+currentEvent.text;
  updateBar(); updateWorldImage();
}

function loadTurn(){
  if(turn>maxTurn){
    question.innerText="ğŸ OYUN BÄ°TTÄ°";
    options.innerHTML="";
    status.innerText="Final Karbon: "+carbon;
    return;
  }

  const d=gameDecisions[turn-1];
  status.innerText=`Tur ${turn}/10 | Karbon: ${carbon}`;
  question.innerText=d.q;
  info.innerText="";
  options.innerHTML="";

  d.o.forEach(opt=>{
    const b=document.createElement("button");
    b.innerText=opt[0];
    b.onclick=()=>{
      carbon+=opt[1];
      info.innerText=opt[2];
      updateBar(); updateWorldImage();
      triggerClimateEvent();
      turn++;
      setTimeout(loadTurn,800);
    };
    options.appendChild(b);
  });
}

updateBar(); updateWorldImage(); loadTurn();
</script>

</body>
</html>